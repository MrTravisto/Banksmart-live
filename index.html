<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>BankSmart ‚Äî Compare SA Bank Fees</title>

<style>
:root {
  --bg: #0f172a;
  --card: #0e1426; 
  --muted: #94a3b8;
  --text: #e5e7eb;
  --accent: #22c55e;
  --table: #0b1220;
  --warning: #f59e0b;
  --purple: #8b5cf6;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: Inter, system-ui, -apple-system, sans-serif;
  background: linear-gradient(180deg, #0b1020, #0f172a);
  color: var(--text);
  line-height: 1.6;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

.wrap {
  max-width: 1100px;
  margin: 24px auto;
  padding: 18px;
  flex: 1;
}

.card {
  background: var(--card);
  border: 1px solid #1e293b;
  border-radius: 12px;
  padding: 24px;
  margin-bottom: 20px;
}

.hero {
  text-align: center;
  padding: 40px 20px;
  background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), transparent);
  border-radius: 16px;
  margin-bottom: 30px;
}

.hero h1 {
  font-size: 2.5rem;
  margin-bottom: 12px;
  background: linear-gradient(135deg, #22c55e, #3b82f6);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.hero p {
  font-size: 1.2rem;
  color: var(--muted);
  margin-bottom: 20px;
}

.controls {
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
  margin-bottom: 20px;
}

.field {
  display: flex;
  flex-direction: column;
  gap: 8px;
  flex: 1;
  min-width: 200px;
}

label {
  font-size: 14px;
  color: var(--muted);
  font-weight: 500;
}

input, select {
  padding: 12px 16px;
  border-radius: 8px;
  border: 1px solid #334155;
  background: #0b1220;
  color: #fff;
  font-size: 16px;
  transition: all 0.2s;
}

input:focus, select:focus {
  border-color: #22c55e;
  outline: none;
  box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);
}

.btn {
  padding: 12px 24px;
  border-radius: 8px;
  border: 0;
  background: linear-gradient(135deg, #22c55e, #16a34a);
  color: #fff;
  cursor: pointer;
  font-weight: 600;
  font-size: 16px;
  transition: all 0.2s;
  align-self: flex-end;
}

.btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);
}

.table {
  width: 100%;
  margin-top: 20px;
  border-collapse: collapse;
  background: var(--table);
  border-radius: 8px;
  overflow: hidden;
}

.table th, .table td {
  padding: 16px;
  text-align: left;
  border-bottom: 1px solid #1e293b;
}

.table th {
  background: #0a1222;
  color: #93c5fd;
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-weight: 600;
}

.summary {
  color: var(--muted);
  margin: 16px 0;
  text-align: center;
  font-size: 14px;
}

.apply-btn {
  background: rgba(34, 197, 94, 0.1);
  color: #22c55e;
  padding: 8px 16px;
  border-radius: 6px;
  text-decoration: none;
  font-weight: 600;
  display: inline-block;
  border: 1px solid #22c55e;
  transition: all 0.2s;
}

.apply-btn:hover {
  background: #22c55e;
  color: white;
}

.footer {
  text-align: center;
  padding: 30px 20px;
  margin-top: 40px;
  border-top: 1px solid #1e293b;
  color: var(--muted);
}

.footer p {
  margin: 5px 0;
  font-size: 14px;
}

.credits {
  background: linear-gradient(135deg, #6366f1, #8b5cf6);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  font-weight: 600;
  font-size: 15px;
}

.warning-banner {
  background: rgba(245, 158, 11, 0.1);
  border: 1px solid var(--warning);
  border-radius: 8px;
  padding: 16px;
  margin: 20px 0;
  text-align: center;
  color: var(--warning);
}

.warning-banner strong {
  display: block;
  margin-bottom: 8px;
}

.savings-card {
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(34, 197, 94, 0.1));
  border: 1px solid var(--purple);
  border-radius: 12px;
  padding: 20px;
  margin: 20px 0;
  text-align: center;
}

.savings-amount {
  font-size: 2.5rem;
  font-weight: bold;
  background: linear-gradient(135deg, #22c55e, #8b5cf6);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin: 10px 0;
}

.savings-breakdown {
  display: flex;
  justify-content: space-around;
  margin-top: 15px;
  padding-top: 15px;
  border-top: 1px solid #334155;
}

.savings-item {
  text-align: center;
}

.savings-value {
  font-size: 1.2rem;
  font-weight: bold;
  color: #22c55e;
}

.savings-label {
  font-size: 0.8rem;
  color: var(--muted);
  margin-top: 4px;
}

.ratings {
  display: flex;
  align-items: center;
  gap: 8px;
  margin: 4px 0;
}

.rating-stars {
  color: #f59e0b;
  font-size: 12px;
}

.rating-text {
  font-size: 11px;
  color: var(--muted);
}

.cheapest-badge {
  background: linear-gradient(135deg, #22c55e, #16a34a);
  color: white;
  padding: 2px 8px;
  border-radius: 4px;
  font-size: 10px;
  font-weight: bold;
  margin-left: 8px;
}

.affiliate-notice {
  background: rgba(34, 197, 94, 0.1);
  border: 1px solid #22c55e;
  border-radius: 8px;
  padding: 12px;
  margin: 10px 0;
  text-align: center;
  font-size: 12px;
  color: #22c55e;
}

.capitec-highlight {
  background: linear-gradient(135deg, rgba(34, 197, 94, 0.05), rgba(59, 130, 246, 0.05));
  border-left: 4px solid #22c55e;
}

@media (max-width: 768px) {
  .wrap { padding: 16px; }
  .hero h1 { font-size: 2rem; }
  .controls { flex-direction: column; }
  .btn { align-self: stretch; }
  .savings-breakdown { flex-direction: column; gap: 10px; }
  .table { font-size: 14px; }
  .table th, .table td { padding: 12px 8px; }
}
</style>
</head>
<body>
  <div class="wrap">

    <div class="hero">
      <h1>BankSmart</h1>
      <p>Compare South African Bank Fees & Save Money</p>
    </div>

    <!-- Warning Banner -->
    <div class="warning-banner">
      <strong>‚ö†Ô∏è Important Notice</strong>
      <p>Bank fees change frequently. Always verify current fees directly with each bank's official website before making decisions.</p>
    </div>

    <!-- Affiliate Notice -->
    <div class="affiliate-notice">
      <strong>üí° Supporting BankSmart:</strong> We may earn a commission when you apply through our links, at no extra cost to you. This helps us maintain this free service.
    </div>

    <div class="card">
      <div class="controls">
        <div class="field">
          <label for="salary">üí∞ Monthly Salary (ZAR)</label>
          <input id="salary" type="number" placeholder="e.g., 18000" value="" />
        </div>

        <div class="field">
          <label for="transactions">üí≥ Monthly Transactions</label>
          <select id="transactions">
            <option value="5">Low (1-5 transactions)</option>
            <option value="15" selected>Medium (6-15 transactions)</option>
            <option value="30">High (16-30 transactions)</option>
            <option value="50">Very High (30+ transactions)</option>
          </select>
        </div>

        <button id="btnCompare" class="btn">Compare Accounts</button>
      </div>

      <div id="status" class="summary">
        Enter your salary and approximate monthly transactions, then click <strong>Compare Accounts</strong> to see matching bank accounts.
      </div>
      <div id="results"></div>
    </div>

  </div>

  <!-- Footer with your credits -->
  <footer class="footer">
    <p>BankSmart helps you compare bank fees across South African banks.</p>
    <p><strong>Always verify current fees with official bank websites</strong></p>
    <p class="credits">Built and maintained by Trevor Barnard</p>
    <p style="font-size: 12px; margin-top: 10px;">
      <em>Disclosure: We may earn commissions from partner banks</em>
    </p>
  </footer>

<script>
// Enhanced bank data with transaction costs and ratings
// NOTE: Example data only. Always verify on the official bank websites.
const ACCOUNTS = [
  {
    bank: "Bank Zero", account: "Personal", fee: 0, transactionCost: 0,
    includedTransactions: 0, minSalary: 0, type: "digital",
    notes: "Zero monthly fee ‚Ä¢ App-based ‚Ä¢ Real-time notifications",
    url: "https://www.bankzero.co.za/rates-and-pricing/",
    rating: 4.4, reviews: 893
  },
  {
    bank: "Capitec", account: "Global One", fee: 7.50, transactionCost: 2,
    includedTransactions: 5, minSalary: 0, type: "traditional",
    notes: "R7.50 monthly + pay-as-you-transact ‚Ä¢ R2/extra transaction ‚Ä¢ Most popular",
    url: "https://apply.capitecbank.co.za/current-account/?source=BankSmart&affiliate=BS001",
    rating: 4.6, reviews: 3562,
    featured: true
  },
  {
    bank: "Absa", account: "Transact", fee: 7, transactionCost: 2.80,
    includedTransactions: 0, minSalary: 0, type: "traditional",
    notes: "R7.00 monthly ‚Ä¢ R2.80/extra transaction ‚Ä¢ Free SMS notifications",
    url: "https://www.absa.co.za/personal/bank/an-account/transact-account/",
    rating: 4.1, reviews: 1987
  },
  {
    bank: "FNB", account: "Easy PAYT", fee: 7.50, transactionCost: 2.50,
    includedTransactions: 0, minSalary: 0, type: "traditional",
    notes: "Pay-as-you-transact ‚Ä¢ R2.50 per debit order ‚Ä¢ R1.30 per purchase",
    url: "https://www.fnb.co.za/for-you/easy-smart-account/",
    rating: 4.3, reviews: 2876
  },
  {
    bank: "FNB", account: "Easy Bundled", fee: 73.50, transactionCost: 0,
    includedTransactions: 30, minSalary: 0, type: "traditional",
    notes: "Bundled account ‚Ä¢ Includes 30 free transactions ‚Ä¢ No per-transaction fees",
    url: "https://www.fnb.co.za/for-you/easy-smart-account/",
    rating: 4.0, reviews: 3421
  },
  {
    bank: "African Bank", account: "MyWORLD", fee: 75, transactionCost: 0,
    includedTransactions: 25, minSalary: 0, type: "traditional",
    notes: "Bundle account ‚Ä¢ Includes 25 transactions ‚Ä¢ Savings pockets",
    url: "https://www.africanbank.co.za/en/home/banking/",
    rating: 3.9, reviews: 876
  },
  {
    bank: "Standard Bank", account: "MyMo Plus", fee: 125, transactionCost: 0,
    includedTransactions: 35, minSalary: 0, type: "traditional",
    notes: "Bundle with 35 transactions ‚Ä¢ Mobile-focused banking",
    url: "https://www.standardbank.co.za/southafrica/personal/products-and-services/bank-with-us/bank-accounts/our-accounts/mymoplusaccount",
    rating: 4.2, reviews: 2314
  },
  {
    bank: "Nedbank", account: "MiGoals", fee: 105, transactionCost: 0,
    includedTransactions: 30, minSalary: 0, type: "traditional",
    notes: "Goal-based banking ‚Ä¢ Includes 30 free transactions",
    url: "https://www.nedbank.co.za",
    rating: 4.1, reviews: 1567
  },
  {
    bank: "FNB", account: "Premier", fee: 265, transactionCost: 0,
    includedTransactions: 100, minSalary: 25000, type: "premium",
    notes: "Premium benefits ‚Ä¢ Travel insurance ‚Ä¢ Lounge access ‚Ä¢ 100+ free transactions",
    url: "https://www.fnb.co.za/premier-select/premier-current-account.html",
    rating: 4.5, reviews: 1567
  },
  {
    bank: "Standard Bank", account: "Prestige Plus", fee: 385, transactionCost: 0,
    includedTransactions: 120, minSalary: 35000, type: "premium",
    notes: "Premium benefits ‚Ä¢ Concierge service ‚Ä¢ Enhanced rewards ‚Ä¢ 120 free transactions",
    url: "https://www.standardbank.co.za/southafrica/personal/products-and-services/bank-with-us/bank-accounts/our-accounts/prestige-account",
    rating: 4.3, reviews: 987
  }
];

// Track affiliate clicks (console + optional GA)
function trackAffiliateClick(bankName, accountType) {
  console.log("Affiliate click:", bankName, "-", accountType);
  if (typeof gtag !== "undefined") {
    gtag("event", "affiliate_click", {
      event_category: "bank_application",
      event_label: bankName + "_" + accountType,
      value: 1
    });
  }
}

// Calculate total monthly cost
function calculateTotalCost(account, transactions) {
  var total = account.fee;
  if (account.transactionCost > 0 && transactions > account.includedTransactions) {
    var extra = transactions - account.includedTransactions;
    total += extra * account.transactionCost;
  }
  return total;
}

// Generate star rating HTML
function getStarRating(rating) {
  var fullStars = Math.floor(rating);
  var halfStar = rating % 1 >= 0.5;
  var emptyStars = 5 - fullStars - (halfStar ? 1 : 0);
  return "‚òÖ".repeat(fullStars) + (halfStar ? "¬Ω" : "") + "‚òÜ".repeat(emptyStars);
}

// Calculate potential savings vs average traditional bank
function calculateSavings(cheapestAccount, monthlyTransactions) {
  var avgTraditionalFee = 120; // rough average reference
  var cheapestCost = calculateTotalCost(cheapestAccount, monthlyTransactions);
  var monthlySavings = avgTraditionalFee - cheapestCost;
  return {
    monthly: Math.max(0, monthlySavings),
    yearly: Math.max(0, monthlySavings * 12),
    fiveYear: Math.max(0, monthlySavings * 12 * 5)
  };
}

// Render results (sorted by total cost)
function showResults(accounts, salary, transactions) {
  var results = document.getElementById("results");

  // Filter by salary
  var filtered = accounts.filter(function(a) {
    return a.minSalary <= salary;
  });

  if (filtered.length === 0) {
    results.innerHTML = '<div class="card">No accounts match your salary criteria.</div>';
    return;
  }

  // Add total cost and sort by it
  var mapped = filtered.map(function(a) {
    return Object.assign({}, a, {
      totalCost: calculateTotalCost(a, transactions)
    });
  }).sort(function(a, b) {
    return a.totalCost - b.totalCost;
  });

  var cheapestAccount = mapped[0];
  var savings = calculateSavings(cheapestAccount, transactions);

  var html = "";

  // Savings Calculator
  if (savings.monthly > 0) {
    html +=
      '<div class="savings-card">' +
        "<h3>üí∞ Potential Savings</h3>" +
        "<p>Based on average traditional bank fees, you could save:</p>" +
        '<div class="savings-amount">R ' + savings.yearly.toLocaleString() + " per year</div>" +
        '<div class="savings-breakdown">' +
          '<div class="savings-item">' +
            '<div class="savings-value">R ' + savings.monthly.toFixed(0) + "</div>" +
            '<div class="savings-label">Monthly</div>' +
          "</div>" +
          '<div class="savings-item">' +
            '<div class="savings-value">R ' + savings.yearly.toLocaleString() + "</div>" +
            '<div class="savings-label">Yearly</div>' +
          "</div>" +
          '<div class="savings-item">' +
            '<div class="savings-value">R ' + savings.fiveYear.toLocaleString() + "</div>" +
            '<div class="savings-label">5 Years</div>' +
          "</div>" +
        "</div>" +
      "</div>";
  }

  // Accounts Table
  html +=
    '<div class="card">' +
      "<h3>Matching Accounts (" + mapped.length + ") - Sorted by Total Monthly Cost</h3>" +
      '<table class="table">' +
        "<thead>" +
          "<tr>" +
            "<th>Bank</th>" +
            "<th>Account</th>" +
            "<th>Rating</th>" +
            "<th>Monthly Fee</th>" +
            "<th>Total Cost</th>" +
            "<th>Notes</th>" +
            "<th></th>" +
          "</tr>" +
        "</thead>" +
        "<tbody>";

  mapped.forEach(function(account, index) {
    var isCheapest = index === 0;
    var isCapitec = account.bank === "Capitec";
    var rowClass = isCapitec ? ' class="capitec-highlight"' : "";
    html +=
      "<tr" + rowClass + ">" +
        "<td><strong>" + account.bank + "</strong>" +
          (isCheapest ? '<span class="cheapest-badge">CHEAPEST</span>' : "") +
          (isCapitec ? '<span class="cheapest-badge">POPULAR</span>' : "") +
        "</td>" +
        "<td>" + account.account + "</td>" +
        '<td><div class="ratings">' +
          '<div class="rating-stars">' + getStarRating(account.rating) + "</div>" +
        "</div>" +
        '<div class="rating-text">' + account.rating + "/5 (" + account.reviews.toLocaleString() + ")</div>" +
        "</td>" +
        "<td>" + (account.fee === 0 ? "FREE" : "R " + account.fee.toFixed(2)) + "</td>" +
        '<td><strong>R ' + account.totalCost.toFixed(2) + "</strong></td>" +
        "<td>" + account.notes + "</td>" +
        '<td><a class="apply-btn" href="' + account.url + '" target="_blank" onclick="trackAffiliateClick('' +
          account.bank + "','" + account.account + "')">Apply ‚úì</a></td>" +
      "</tr>";
  });

  html += "</tbody></table></div>";
  results.innerHTML = html;
}

// Event Listeners
document.getElementById("btnCompare").addEventListener("click", function() {
  var salary = Number(document.getElementById("salary").value) || 0;
  var transactions = Number(document.getElementById("transactions").value) || 15;

  if (!salary || salary <= 0) {
    alert("Please enter a valid monthly salary");
    return;
  }

  showResults(ACCOUNTS, salary, transactions);
});

document.getElementById("salary").addEventListener("keypress", function(e) {
  if (e.key === "Enter") {
    document.getElementById("btnCompare").click();
  }
});

document.getElementById("transactions").addEventListener("change", function() {
  // Only recompute if user already entered a salary
  var salary = Number(document.getElementById("salary").value) || 0;
  if (salary > 0) {
    document.getElementById("btnCompare").click();
  }
});

console.log("BankSmart comparator loaded. Built for Trevor Barnard.");
</script>

</body>
</html>
